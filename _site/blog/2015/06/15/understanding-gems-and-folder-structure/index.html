<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Thoughts about my life music and code">

  <title>Hari Om Gaur - Gems and folder structure for Ruby Projects</title>
  <link rel="shortcut icon" href="/assets/images/favicon.ico">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="alternate" type="application/rss+xml" title="My Blog" href="/rss.xml">
  <link rel="stylesheet" href="/assets/css/highlight.css">
</head>
<body>

  <nav class="main-nav">
    
        <a href="/"> <span class="arrow">←</span> Home </a>
    

    
        
            <a href="/about">About </a>
        
    
    
    
    
    
</nav>


  

  <section id="wrapper" class="">
    <article class="post">
    <header>
        <h1>Gems and folder structure for Ruby Projects</h1>
        <h2 class="headline">June 15, 2015</h2>
    </header>
    <section id="post-body">
        <p><body>
<p>
Everything is an object in ruby and thus visualising everything as an
object and modeling your problem based on the principles of Object
Oriented Programming (OOP) becomes very important. During my second week at
<a href="http://www.codeignition.co">Codeignition</a>, we started with a very simple problem and then extended it
everyday to understand some OOP principles such as inheritance,
namespacing and method overriding. Thanks to our mentor, <a href="http://www.sinisterlight.com">Shobhit Srivastava</a>, some software
engineering skills always step in to show us the beauty of this world in
bright sunlight and this time they were-<br>
- Test Driven Development, lovingly known as TDD,<br>
- Don&#39;t Repeat Yourself, the DRY principle and <br> 
- Pair programming.</p></p>

<p>
The basic problem given to us was- <br>
<em>Problem</em> - Coordinates of two points are given, return length of line segment formed by the points.
</p>

<p>
Simple! Isn't it? Solution to above problem will be a Line class which have attributes start_point and
end_point and a method length which gives distance between these two points. We can implement above class either based on the assumption that coordinates of these two points are given to us in the form of two arrays, i.e. [x1,y1],[x2,y2] or that we are given coordinates as x1,y1,x2,y2.</p>
<p>
Now, one could argue that Points are separate identities themselves and
the method Line#length does nothing but returns distance between two
instances of Point class. So our solution can be refactored to add Point
class with attributes x_coordinate, y_coordinate and a class method
distance_between point1, point2.
</p>

<p>
<h4>Writing Ruby code- The conventions!</h4>
One can make any number of classes in a single ruby file, write logic in
this file and get it executed. But such code is hard to understand and tough to debug. 
Thus, we have conventions. When everybody follows some conventions, all our folder
structures are alike, which in turn makes collaborated works easy.
</p>

<p>
An easy to maintain, clear folder structure for Ruby projects is-<br>
|_lib/<br>
|_spec/<br>
|_Gemfile<br>
|_Gemfile.lock<br>
|_Rakefile
</p>

<p>
All our classes and modules that means functionality goes in lib folder.
That means if we want to make a class named Line for our given problem,
it goes in Line.rb file in lib folder. Class names in ruby are
conventionally written in CamelCase while method names are written in
snake_case. Conventionally one file has one class. So lib folder will
contain two files Line.rb and Point.rb as per the solution discussed above.
</p>

<p>Now, while working on any project in any programming language, we should
always follow Test Driven Developement(TDD) approach. When our projects
grow bigger, our code base increases, the specs we had written for each
small unit of our code are our only friends in debugging. If you are new
to TDD and don&#39;t see any benefit for why you should follow TDD, visit my
friend Debashish&#39;s <a href="http://wallydrag.github.io/test%20driven%20development/tdd/2015/05/26/ruby/">blog</a> here.
<br>
So all our specs go in spec folder. We write one spec file for each ruby
class file as classname_spec.rb in spec folder.
<br><br>
<em>Gems</em><br>
There are many libraries available for testing in ruby. One of the ones
that has gained popularity and use is RSpec. To use RSpec, we write a
Gemfile for our project. Gemfile is the place where we write all our
dependencies for the project. A sample Gemfile, one for our current
project will be -</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">source</span> <span class="s2">&quot;https://rubygems.org&quot;</span>
<span class="n">gem</span> <span class="s1">&#39;rspec&#39;</span></code></pre></div>

<p>When we write </p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">bundle</span> <span class="n">install</span></code></pre></div>

<p>Bundler looks up to the source &quot;http://rubygems.org&quot; for the gems we declared. We can
mention multiple sources and bundler will look up in those sources in
order. Bundler installs specified versions of gems if mentioned and
latest stable realeases of gems if versions are not specified.
</p>
<br>
<p>
After running <em>bundle install</em>, a <em>Gemfile.lock</em> file is
created in current directory. This file is the place where Bundler
records the exact versions of gems that were installed. In this way, it
is ensured that when we install the dependencies on some other machine
for the same project, bundler will look into Gemfile.lock file for the
versions of gems to be installed rather than installing latest stable
releases of all the gems.
</p>
<p>
This way gemfile and bundler manage our dependencies. And folder
structure keeps our code clean and more readable. We will look into rake
tasks and an extended exercise on Object Oriented Design based on our
problem in next blog. Till then, 
<em>Carpe Diem!</em>
</p>
</body></p>

    </section>
</article>
<footer id="post-meta" class="clearfix">
    <a href="http://twitter.com/@hogaur">
        <img class="avatar" src="/assets/images/avatar.png">
        <div>
            <span class="dark">Hari Om Gaur</span>
            <span>Life Music & Code</span>
        </div>
    </a>

    <section id="sharing">
        <a class="twitter" href="https://twitter.com/intent/tweet?text=http://hariomgaur.in/blog/2015/06/15/understanding-gems-and-folder-structure/ - Gems and folder structure for Ruby Projects by @@hogaur"><span class="icon-twitter"> Tweet</span></a>

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>
    </section>
</footer>

<!-- Disqus comments -->


<!-- Archive post list -->

    <ul id="post-list" class="archive readmore">
        <h3>Read more</h3>
        
            <li>
                <a href="/blog/2016/03/11/lifetime-concert/">Lifetime concert<aside class="dates">Mar 11</aside></a>
            </li>
        
            <li>
                <a href="/blog/2015/12/23/Thahar-Abhi/">ठहर अभी !<aside class="dates">Dec 23</aside></a>
            </li>
        
            <li>
                <a href="/blog/2015/08/18/coke-studio-season-1/">Coke Studio Season 1<aside class="dates">Aug 18</aside></a>
            </li>
        
            <li>
                <a href="/blog/2015/06/29/understanding-rake-tasks/">Rake Tasks<aside class="dates">Jun 29</aside></a>
            </li>
        
            <li>
                <a href="/blog/2015/06/15/understanding-gems-and-folder-structure/">Gems and folder structure for Ruby Projects<aside class="dates">Jun 15</aside></a>
            </li>
        
            <li>
                <a href="/blog/2015/05/29/ruby-hash/">Ruby Hashes<aside class="dates">May 29</aside></a>
            </li>
        
    </ul>





  </section>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="/assets/js/main.js"></script>
  <script src="/assets/js/highlight.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-67482601-1', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>



